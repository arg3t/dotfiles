#!/bin/bash

source ~/.config/config.env

ramp10=󰁺
ramp20=󰁻
ramp30=󰁼
ramp40=󰁽
ramp50=󰁾
ramp60=󰁿
ramp70=󰂀
ramp80=󰂁
ramp90=󰂂
ramp100=󰁹
ac_bat=󰂄
ac=ﮣ

if ! [ "$BATTERY" = "" ] ; then
    export bat=$(cat $BATTERY/capacity)
    export status=$(cat $BATTERY/status)
    export plugged=$(cat /sys/class/power_supply/AC/online)
    tleft=$(acpi -b | tail -n 1 | sed -r 's/.* ([0-9]{2}:[0-9]{2}).*/\1/g')
    stats="$bat%"
    if [[ $plugged == "1" ]]; then
        echo "$stats $ac_bat"
    elif [[ $bat -lt 10 ]]; then
        echo "$stats $ramp10"
    elif [[ $bat -lt 20 ]]; then
        echo "$stats $ramp20"
    elif [[ $bat -lt "30" ]]; then
        echo "$stats $ramp30"
    elif [[ $bat -lt "40" ]]; then
        echo "$stats $ramp40"
    elif [[ $bat -lt "50" ]]; then
        echo "$stats $ramp50"
    elif [[ $bat -lt "60" ]]; then
        echo "$stats $ramp60"
    elif [[ $bat -lt "70" ]]; then
        echo "$stats $ramp70"
    elif [[ $bat -lt "80" ]]; then
        echo "$stats $ramp80"
    elif [[ $bat -lt "90" ]]; then
        echo "$stats $ramp90"
    elif [[ $bat -le "100" ]]; then
        echo "$stats $ramp100"
    fi
fi
